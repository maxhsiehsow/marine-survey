<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æµ·å»¢èª¿æŸ¥å“¡ V18</title>
    <style>
        /* 1. å…¨åŸŸé™¤éŒ¯è¦–çª— (é€™æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†) */
        #debug-console {
            position: fixed; top: 0; left: 0; width: 100%; height: 80px;
            background: #000; color: #0f0; font-family: monospace; font-size: 12px;
            padding: 5px; overflow-y: scroll; z-index: 10000; border-bottom: 2px solid red;
            opacity: 0.9;
        }
        
        /* å…§å®¹å¾€ä¸‹æ¨ï¼Œé¿å…è¢«é™¤éŒ¯è¦–çª—æ“‹ä½ */
        body { font-family: sans-serif; background: #f0f2f5; margin: 0; padding: 15px; padding-top: 90px; padding-bottom: 50px; }

        /* å¡ç‰‡æ¨£å¼ */
        .card { background: white; border-radius: 8px; padding: 15px; margin-bottom: 15px; border: 1px solid #ccc; }
        
        h2 { margin-top: 0; color: #007bff; font-size: 18px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        label { font-weight: bold; display: block; margin-top: 10px; }
        
        /* è¼¸å…¥èˆ‡æŒ‰éˆ• */
        input, select { width: 100%; padding: 10px; font-size: 16px; margin: 5px 0; border: 1px solid #999; border-radius: 5px; box-sizing: border-box; background:#fff; }
        
        /* å¼·åˆ¶è¨­å®š button type ä»¥é¿å…è¡¨å–®é€å‡ºå•é¡Œ */
        button { width: 100%; padding: 15px; font-size: 18px; font-weight: bold; margin-top: 10px; cursor: pointer; color: white; border: none; border-radius: 5px; }
        .btn-blue { background: #007bff; }
        .btn-green { background: #28a745; }
        .btn-red { background: #dc3545; }
        
        /* è¡¨æ ¼ */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        .big-num { font-size: 24px; color: red; font-weight: bold; }
    </style>

    <script>
        window.onerror = function(msg, url, line, col, error) {
            var box = document.getElementById('debug-console');
            if(box) {
                box.innerHTML = "<div style='color:red; font-weight:bold;'>âŒ éŒ¯èª¤: " + msg + " (è¡Œ:" + line + ")</div>" + box.innerHTML;
            } else {
                alert("éŒ¯èª¤: " + msg);
            }
            return false;
        };
    </script>
</head>
<body>

    <div id="debug-console">ç³»çµ±å•Ÿå‹•ä¸­...</div>

    <h1>ğŸ“‹ æµ·å»¢ V18 é¡¯å½±ç‰ˆ</h1>

    <div class="card">
        <h2>1. è¨­å®š</h2>
        <label>å§“åï¼š</label>
        <input type="text" id="inp_name" placeholder="è¼¸å…¥å§“å" onkeyup="syncData()">
        
        <label>GPSï¼š</label>
        <button type="button" class="btn-blue" onclick="runGPS()">ğŸ“ æŠ“å– GPS</button>
        <input type="text" id="inp_gps" readonly value="å°šæœªå®šä½" style="background:#eee;">
        
        <label>åœ°é»ï¼š</label>
        <input type="text" id="inp_loc" placeholder="è¼¸å…¥åœ°é»" onkeyup="syncData()">
    </div>

    <div class="card">
        <h2>2. è¨˜éŒ„</h2>
        <div style="text-align:center;">æ•¸é‡ï¼š<span id="disp_count" class="big-num">0</span> / 10</div>
        
        <label>é¸æ“‡åœ‹å®¶ï¼š</label>
        <select id="sel_country">
            <option value="">ğŸ‘‡ é»æ­¤é¸æ“‡...</option>
            <option value="ğŸ‡¹ğŸ‡¼ å°ç£">ğŸ‡¹ğŸ‡¼ å°ç£</option>
            <option value="ğŸ‡¨ğŸ‡³ ä¸­åœ‹">ğŸ‡¨ğŸ‡³ ä¸­åœ‹</option>
            <option value="ğŸ‡¯ğŸ‡µ æ—¥æœ¬">ğŸ‡¯ğŸ‡µ æ—¥æœ¬</option>
            <option value="ğŸ‡°ğŸ‡· éŸ“åœ‹">ğŸ‡°ğŸ‡· éŸ“åœ‹</option>
            <option value="ğŸ‡»ğŸ‡³ è¶Šå—">ğŸ‡»ğŸ‡³ è¶Šå—</option>
            <option value="ğŸ‡¹ğŸ‡­ æ³°åœ‹">ğŸ‡¹ğŸ‡­ æ³°åœ‹</option>
            <option value="ğŸ‡®ğŸ‡© å°å°¼">ğŸ‡®ğŸ‡© å°å°¼</option>
            <option value="ğŸ‡µğŸ‡­ è²å¾‹è³“">ğŸ‡µğŸ‡­ è²å¾‹è³“</option>
            <option value="ğŸ‡ºğŸ‡¸ ç¾åœ‹">ğŸ‡ºğŸ‡¸ ç¾åœ‹</option>
            <option value="â“ ç„¡æ³•è¾¨è­˜">â“ ç„¡æ³•è¾¨è­˜</option>
        </select>

        <button type="button" class="btn-green" onclick="addRecord()">â• å¢åŠ ä¸€ç­†</button>
        <button type="button" class="btn-red" onclick="undoRecord()">â†©ï¸ åˆªé™¤ä¸Šä¸€ç­†</button>
    </div>

    <div class="card" id="report-area">
        <h2>3. å ±å‘Šé è¦½ (è«‹æˆªåœ–)</h2>
        <div style="font-size:14px; line-height:1.6; border: 2px solid #007bff; padding:10px;">
            <div style="background:#007bff;
